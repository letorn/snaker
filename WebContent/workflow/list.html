<table id="workflow-list-table" class="easyui-datagrid" data-options="rownumbers:true,toolbar:'#workflow-list-table-toolbar',fit:true">
	<thead>
		<tr>
			<th data-options="field:'processId',width:60">流程编号</th>
			<th data-options="field:'processName',width:150">流程名称</th>
			<th data-options="field:'instanceId',width:60">实例编号</th>
			<th data-options="field:'action',width:180,formatter:workflowListTableActionFormatter">操作</th>
		</tr>
	</thead>
</table>
<div id="workflow-list-table-toolbar" style="padding: 2px 5px;">
	<input id="workflow-list-table-search" class="easyui-searchbox" data-options="prompt:'未开发...'" style="width:200px"></input>
</div>
<script type="text/javascript">
	function workflowListTableActionFormatter(value, row) {
		return '<a class="workflow-list-table-look" data-process="' + row.processId + '" data-instance="' + row.instanceId + '" style="cursor:pointer;color:blue">查看</a>';
	}

	$.render(function() {
		var $workflowListTable = $('#workflow-list-table');
		
		$('#workflow-list-table-search').searchbox({
			searcher: function(value) {
				$workflowListTable.datagrid('load', {
					name: value
				});
			}
		});
		
		$workflowListTable.datagrid({
			url:'workflow/list',
			method:'get',
			onLoadSuccess: function() {
				$('.workflow-list-table-look').click(function() {
					window.open('workflow/index?process=' + $(this).data('process') + '&instance=' + $(this).data('instance'));
				});
			}
		});
	});
</script>